<!-- Unicorn component එක කිසිම දෙයක් extend කරන්නේ නැහැ -->
<div class="schools-component">
    <!-- Division Dropdown -->
    <div class="mb-3">
        <label class="form-label">කොට්ඨාසය තෝරන්න:</label>
        <select 
            unicorn:model="selected_division_id"
            class="form-select">
            <option value="">-- තෝරන්න --</option>
            {% for division in divisions %}
                <option value="{{ division.id }}">{{ division.name }}</option>
            {% endfor %}
        </select>
    </div>
    
    <!-- Schools Dropdown -->
    {% if selected_division_id %}
        <div class="mb-3">
            <label class="form-label">පාසල තෝරන්න:</label>
            
            {% if schools %}
                <select 
                    unicorn:model="selected_school_id"
                    class="form-select">
                    <option value="">-- තෝරන්න --</option>
                    {% for school in schools %}
                        <option value="{{ school.id }}">{{ school.name }}</option>
                    {% endfor %}
                </select>
                <small class="text-muted">{{ schools|length }} පාසල් හමුවිය</small>
            {% else %}
                <p class="text-muted">මේ කොට්ඨාසයේ පාසල් නැත</p>
            {% endif %}
        </div>
    {% endif %}
    
    <!-- Selected Info -->
    {% if selected_school_id %}
        <div class="alert alert-info mt-3">
            <h5>තෝරාගත් විස්තර:</h5>
            {% with division=get_selected_division school=get_selected_school %}
                {% if division %}
                    <p><strong>කොට්ඨාසය:</strong> {{ division.name }}</p>
                {% endif %}
                {% if school %}
                    <p><strong>පාසල:</strong> {{ school.name }}</p>
                {% endif %}
            {% endwith %}
            <button unicorn:click="reset" class="btn btn-sm btn-danger">Clear</button>
        </div>
    {% endif %}
    
    <div unicorn:loading class="text-primary">⏳ Loading...</div>
</div>